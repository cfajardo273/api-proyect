{"version":3,"sources":["assets/a11y.svg","assets/blue-flag.svg","pages/Home.js","lib/api.js","components/Beach.js","pages/Results.js","components/Header.js","components/Footer.js","components/App.js","index.js"],"names":["module","exports","Home","useState","searchString","setSearchString","history","useHistory","className","method","action","onSubmit","event","preventDefault","push","toLowerCase","htmlFor","type","id","placeholder","value","onChange","searchItem","currentTarget","getAllBeaches","a","fetch","response","json","data","features","Beach","properties","Acceso_dis","Bandera_az","key","OBJECTID","Nombre","Término_Mu","Tipo_de_ar","Forma_de_a","Observacio","Results","loading","setloading","beachesToRender","setBeachesToRender","useParams","getBeachesToRender","allBeaches","string","filter","beach","includes","fetchAllBeaches","beachesData","beachesToShow","useEffect","length","map","Header","Footer","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qKAAAA,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,uC,yGCsC5BC,EAnCF,WAAO,IAAD,EACuBC,mBAAS,IADhC,mBACVC,EADU,KACIC,EADJ,KAEXC,EAAUC,cAYhB,OACE,0BAAMC,UAAU,QACd,6BAASA,UAAU,aACjB,kDAEA,0BAAMC,OAAO,MAAMC,OAAO,IAAIC,SAVf,SAACC,GACpBA,EAAMC,iBACNP,EAAQQ,KAAR,mBAAyBV,EAAaW,kBAShC,2BAAOC,QAAQ,WACf,2BACEC,KAAK,SACLC,GAAG,SACHC,YAAY,gBACZC,MAAOhB,EACPiB,SAtBW,SAACT,GACpB,IAAMU,EAAaV,EAAMW,cAAcH,MACvCf,EAAgBiB,MAsBV,4BAAQL,KAAK,UAAb,c,uBC5BGO,EAAa,uCAAG,8BAAAC,EAAA,sEACJC,MAHvB,mFAE2B,cACrBC,EADqB,gBAERA,EAASC,OAFD,cAErBC,EAFqB,yBAGpBA,EAAKC,UAHe,2CAAH,qDCuCXC,G,YAtCD,SAAC,GAAc,IAAZF,EAAW,EAAXA,KACUA,EAAKG,WAAWC,WACxBJ,EAAKG,WAAWE,WAEjC,OACE,yBAAK1B,UAAU,SACf,6BAAS2B,IAAKN,EAAKG,WAAWI,UAC5B,4BAAKP,EAAKG,WAAWK,QAcrB,4BACE,yCACA,4BAAKR,EAAKG,WAAWM,iBACrB,sDACA,4BAAKT,EAAKG,WAAWC,YACrB,4BAAKJ,EAAKG,WAAWO,YACrB,4CACA,4BAAKV,EAAKG,WAAWE,YACrB,gDACA,4BAAKL,EAAKG,WAAWQ,YACrB,4BAAKX,EAAKG,WAAWS,iBCQdC,EAtCC,WAAO,IAAD,EACUvC,oBAAS,GADnB,mBACbwC,EADa,KACJC,EADI,OAE0BzC,mBAAS,IAFnC,mBAEb0C,EAFa,KAEIC,EAFJ,KAGZ1C,EAAiB2C,cAAjB3C,aAEF4C,EAAqB,SAACC,EAAYC,GACtC,OAAOD,EAAWE,QAAO,SAACC,GACxB,OAAOA,EAAMpB,WAAWM,gBAAWvB,cAAcsC,SAASH,OAIxDI,EAAe,uCAAG,8BAAA7B,EAAA,sEACID,IADJ,OAChB+B,EADgB,OAEhBC,EAAgBR,EAAmBO,EAAanD,GACtDwC,GAAW,GACXE,EAAmBU,GAJG,2CAAH,qDAWrB,OAJAC,qBAAU,WACRH,MACC,IAGD,0BAAM9C,UAAU,QAEd,yCAAeqC,EAAgBa,OAA/B,WACCf,GAAW,uCAEXE,EAAgBc,KAAI,SAACP,GAAD,OAClB,yBAAK5C,UAAU,WAChB,kBAAC,EAAD,CAAO2B,IAAKiB,EAAMpB,WAAWI,SAAUP,KAAMuB,UCzBtCQ,EARA,WACb,OACE,gCACE,qDCMSC,EATA,WACb,OACE,gCACE,6DACA,mDCiBSC,MAZf,WACE,OACE,kBAAC,IAAD,KACE,kBAAC,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAW/D,IACjC,kBAAC,IAAD,CAAO8D,KAAK,yBAAyBC,UAAWvB,KAElD,kBAAC,EAAD,QCdNwB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.e4fde0fb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/a11y.20d40b9b.svg\";","module.exports = __webpack_public_path__ + \"static/media/blue-flag.a14738bb.svg\";","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst Home = () => {\n  const [searchString, setSearchString] = useState('');\n  const history = useHistory();\n\n  const handleChange = (event) => {\n    const searchItem = event.currentTarget.value;\n    setSearchString(searchItem);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    history.push(`/results/${searchString.toLowerCase()}`);\n  };\n\n  return (\n    <main className=\"main\">\n      <section className=\"container\">\n        <h2>BUSCADOR DE PLAYAS</h2>\n\n        <form method=\"get\" action=\"/\" onSubmit={handleSubmit}>\n          <label htmlFor=\"search\"></label>\n          <input\n            type=\"search\"\n            id=\"search\"\n            placeholder=\"Buscar ciudad\"\n            value={searchString}\n            onChange={handleChange}\n          />\n          <button type=\"submit\">Buscar</button>\n        </form>\n      </section>\n    </main>\n  );\n};\n\nexport default Home;\n","const URL =\n  'https://opendata.arcgis.com/datasets/84ddbc8cf4104a579d579f6441fcaa8a_0.geojson';\n\nexport const getAllBeaches = async () => {\n  const response = await fetch(URL);\n  const data = await response.json();\n  return data.features;\n};\n","import React from 'react';\nimport a11y from '../assets/a11y.svg';\nimport blueFlagSvg from '../assets/blue-flag.svg';\n\nconst Beach = ({ data }) => {\n  const disabilityAccess = data.properties.Acceso_dis === 'Sí';\n  const blueFlag = data.properties.Bandera_az === 'Sí';\n\n  return (\n    <div className=\"beach\">\n    <article key={data.properties.OBJECTID}>\n      <h3>{data.properties.Nombre}</h3>\n      {/* <div  className=\"picture\">\n        {blueFlag && (\n          <picture>\n            <img src={blueFlagSvg} alt=\"blue flag\" />\n          </picture>\n        )}\n        {disabilityAccess && (\n          <picture>\n            <img src={a11y} alt=\"accesible\" />\n          </picture>\n        )}\n      </div> */}\n\n      <dl>\n        <dt>Municipio</dt>\n        <dd>{data.properties.Término_Mu}</dd>\n        <dt>Acceso de discapacidad</dt>\n        <dd>{data.properties.Acceso_dis}</dd>\n        <dd>{data.properties.Tipo_de_ar}</dd>\n        <dt>Bandera azul</dt>\n        <dd>{data.properties.Bandera_az}</dd>\n        <dt>Forma de accesso</dt>\n        <dd>{data.properties.Forma_de_a}</dd>\n        <dd>{data.properties.Observacio}</dd>\n      </dl>\n    </article>\n    </div>\n  );\n};\n\nexport default Beach;\n","import React, { useEffect, useState } from 'react';\nimport { getAllBeaches } from '../lib/api';\nimport { useParams } from 'react-router-dom';\nimport Beach from '../components/Beach';\n\nconst Results = () => {\n  const [loading, setloading] = useState(true);\n  const [beachesToRender, setBeachesToRender] = useState([]);\n  const { searchString } = useParams();\n\n  const getBeachesToRender = (allBeaches, string) => {\n    return allBeaches.filter((beach) => {\n      return beach.properties.Término_Mu.toLowerCase().includes(string);\n    });\n  };\n\n  const fetchAllBeaches = async () => {\n    const beachesData = await getAllBeaches();\n    const beachesToShow = getBeachesToRender(beachesData, searchString);\n    setloading(false);\n    setBeachesToRender(beachesToShow);\n  };\n\n  useEffect(() => {\n    fetchAllBeaches();\n  }, []);\n\n  return (\n    <main className=\"main\">\n     \n      <h2>Resultado {beachesToRender.length} playas</h2>\n      {loading && <h3>Loading</h3>}\n\n      {beachesToRender.map((beach) => (\n         <div className=\"results\">\n        <Beach key={beach.properties.OBJECTID} data={beach} />\n            </div>\n      ))}\n  \n    </main>\n  );\n};\n\nexport default Results;\n","import React from 'react';\n\nconst Header = () => {\n  return (\n    <header>\n      <h1>Playas de España</h1>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\n\nconst Footer = () => {\n  return (\n    <footer>\n      <p>  Carmen, Jose Manuel & Ismael</p>\n      <p>SEI España 2020</p>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React from 'react';\nimport { Switch, BrowserRouter, Route } from 'react-router-dom';\n\n//pages\nimport Home from '../pages/Home';\nimport Results from '../pages/Results';\n\n// UI components\nimport Header from './Header.js';\nimport Footer from './Footer.js';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Header />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/results/:searchString\" component={Results} />\n      </Switch>\n      <Footer />\n    </BrowserRouter>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport '../src/styles/index.scss';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}